<!--<main>-->
<div>
  <button class="btn btn-action w-full my-1" (click)="modalService.openModal('Новый товар')">Добавить товар
  </button>
</div>
<table class="mx-auto w-full" *ngIf="productService.products">
  <tr [ngClass]="{
      admin_table__header: isAdmin,
      user_table__header: !isAdmin
    }">
    <th>Изображение</th>
    <th>Код</th>
    <th>Артикул</th>
    <th>Наименование</th>
    <th>Производитель</th>
    <th>Количество</th>
    <th>Цена</th>
    <th></th>
  </tr>


  <tr stopPropagation *ngFor="let product of productService.products | filter: productService.searchByArticle()"
      (click)="modalService.openModal('Создать')"
      [ngClass]="{
      admin_table__body: isAdmin,
      user_table__body: !isAdmin
    }"
  >
    <td stopPropagation (click)="modalService.openModal('Image')">
      <!--        // TODO открытие изображения в модальном окне-->

      <img [src]="product.imageUrl" alt="{{product.title}}"
           class="mx-auto image-circle">
    </td>
    <td>{{ product.code }}</td>
    <td>{{ product.article }}</td>
    <td>{{ product.title }}</td>
    <td>{{ product.brand }}</td>
    <td>{{ product.qty }}</td>
    <td>{{ product.price | currency: 'EUR ' }}</td>
    <td>
      <div *ngIf="isAdmin">
        <fa-icon stopPropagation class="btn btn-orange mr-2 px-2"
                 [icon]="editIcon"
                 (click)="modalService.openModal('Редактировать',product)">
          update
        </fa-icon>
        <fa-icon stopPropagation class="btn btn-red px-2" (click)="delete(product.id)"
                 [icon]="deleteIcon"
        >delete
        </fa-icon>
      </div>
    </td>
  </tr>
</table>

<ng-container *ngIf="modalService.isVisible | async">
  <app-modal [title]="modalService.titleSing()">
    <app-product-form></app-product-form>
  </app-modal>
</ng-container>

<!--[product]="modalService.productSign()"-->

<!--</main>-->

